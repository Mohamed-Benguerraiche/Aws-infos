<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>aws-infos: main Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">aws-infos<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">This Python script, EC2 SSH File Generator, simplifies the process of managing SSH configurations for Amazon EC2 instances. It automates the generation of SSH files and configuration for EC2 instances, making it easy to retrieve their IP addresses and connect to them, especially after instance restarts when IP addresses are reset.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Script for generating SSH files and configuration for EC2 instances.  
<a href="namespacemain.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeab9364f19a9f658d826a9722ff3027c" id="r_aeab9364f19a9f658d826a9722ff3027c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemain.html#aeab9364f19a9f658d826a9722ff3027c">read_config</a> (yaml_file_path)</td></tr>
<tr class="separator:aeab9364f19a9f658d826a9722ff3027c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58232ea760d103359b0671439338914e" id="r_a58232ea760d103359b0671439338914e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemain.html#a58232ea760d103359b0671439338914e">log</a> (message, file='logs/main_log.log')</td></tr>
<tr class="separator:a58232ea760d103359b0671439338914e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a843746d00af85c8c6fa703c8cb477b67" id="r_a843746d00af85c8c6fa703c8cb477b67"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemain.html#a843746d00af85c8c6fa703c8cb477b67">open_file</a> (filename, mode, content=None)</td></tr>
<tr class="separator:a843746d00af85c8c6fa703c8cb477b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a3dfd97bf9d1398e5eba240127bfcb" id="r_ab3a3dfd97bf9d1398e5eba240127bfcb"><td class="memItemLeft" align="right" valign="top"><a id="ab3a3dfd97bf9d1398e5eba240127bfcb" name="ab3a3dfd97bf9d1398e5eba240127bfcb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_all_regions</b> ()</td></tr>
<tr class="separator:ab3a3dfd97bf9d1398e5eba240127bfcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eeadfeefabf8b4349e8d157d8cbcd2e" id="r_a8eeadfeefabf8b4349e8d157d8cbcd2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemain.html#a8eeadfeefabf8b4349e8d157d8cbcd2e">get_instance_data</a> (region)</td></tr>
<tr class="separator:a8eeadfeefabf8b4349e8d157d8cbcd2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881e78ed5bdb74c93f4012a3f5e02206" id="r_a881e78ed5bdb74c93f4012a3f5e02206"><td class="memItemLeft" align="right" valign="top"><a id="a881e78ed5bdb74c93f4012a3f5e02206" name="a881e78ed5bdb74c93f4012a3f5e02206"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>remove_ansi_styles</b> (input_string)</td></tr>
<tr class="separator:a881e78ed5bdb74c93f4012a3f5e02206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2aefa74d0e3c034b6521a823cea9c8" id="r_a9f2aefa74d0e3c034b6521a823cea9c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemain.html#a9f2aefa74d0e3c034b6521a823cea9c8">log_instance_status</a> (instance_name, status, region)</td></tr>
<tr class="separator:a9f2aefa74d0e3c034b6521a823cea9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1548542778c5889e0581aae6cfa48e3f" id="r_a1548542778c5889e0581aae6cfa48e3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemain.html#a1548542778c5889e0581aae6cfa48e3f">generate_files</a> (instance_data, ssh_key)</td></tr>
<tr class="separator:a1548542778c5889e0581aae6cfa48e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ccdaeb53600cb82375d61812769861" id="r_ae1ccdaeb53600cb82375d61812769861"><td class="memItemLeft" align="right" valign="top"><a id="ae1ccdaeb53600cb82375d61812769861" name="ae1ccdaeb53600cb82375d61812769861"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>print_and_log</b> (message, file='logs/main_log.log')</td></tr>
<tr class="separator:ae1ccdaeb53600cb82375d61812769861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1285a41173984a36c2efd20646cc3e" id="r_aff1285a41173984a36c2efd20646cc3e"><td class="memItemLeft" align="right" valign="top"><a id="aff1285a41173984a36c2efd20646cc3e" name="aff1285a41173984a36c2efd20646cc3e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>check_and_generate_files</b> ()</td></tr>
<tr class="separator:aff1285a41173984a36c2efd20646cc3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a93b3f0fa34b8863c396bc25c85e9fc80" id="r_a93b3f0fa34b8863c396bc25c85e9fc80"><td class="memItemLeft" align="right" valign="top"><a id="a93b3f0fa34b8863c396bc25c85e9fc80" name="a93b3f0fa34b8863c396bc25c85e9fc80"></a>
str&#160;</td><td class="memItemRight" valign="bottom"><b>CONFIG_FILE</b> = 'config/config.yml'</td></tr>
<tr class="separator:a93b3f0fa34b8863c396bc25c85e9fc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2256458892609d0533df5d72a7257ad" id="r_ad2256458892609d0533df5d72a7257ad"><td class="memItemLeft" align="right" valign="top"><a id="ad2256458892609d0533df5d72a7257ad" name="ad2256458892609d0533df5d72a7257ad"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>config</b> = <a class="el" href="namespacemain.html#aeab9364f19a9f658d826a9722ff3027c">read_config</a>(CONFIG_FILE)</td></tr>
<tr class="separator:ad2256458892609d0533df5d72a7257ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de83433b64b24349644a4c2d839dcb7" id="r_a6de83433b64b24349644a4c2d839dcb7"><td class="memItemLeft" align="right" valign="top"><a id="a6de83433b64b24349644a4c2d839dcb7" name="a6de83433b64b24349644a4c2d839dcb7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FILE</b> = config.get('log_file', 'logs/main_log.log')</td></tr>
<tr class="separator:a6de83433b64b24349644a4c2d839dcb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a3fa717fc1a7cd6fb9e6e0f1770f2c" id="r_a91a3fa717fc1a7cd6fb9e6e0f1770f2c"><td class="memItemLeft" align="right" valign="top"><a id="a91a3fa717fc1a7cd6fb9e6e0f1770f2c" name="a91a3fa717fc1a7cd6fb9e6e0f1770f2c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MACHINE_STATUS_LOG</b> = config.get('instance_status_log', 'logs/instance_status.log')</td></tr>
<tr class="separator:a91a3fa717fc1a7cd6fb9e6e0f1770f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a277afa0bd318501590f7c1d36b7aa368" id="r_a277afa0bd318501590f7c1d36b7aa368"><td class="memItemLeft" align="right" valign="top"><a id="a277afa0bd318501590f7c1d36b7aa368" name="a277afa0bd318501590f7c1d36b7aa368"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HOSTS_INI_FILE</b> = config.get('hosts_ini_file', 'files/hosts.ini')</td></tr>
<tr class="separator:a277afa0bd318501590f7c1d36b7aa368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0a39404f305537ac4ba257bb3e854f" id="r_a3a0a39404f305537ac4ba257bb3e854f"><td class="memItemLeft" align="right" valign="top"><a id="a3a0a39404f305537ac4ba257bb3e854f" name="a3a0a39404f305537ac4ba257bb3e854f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CONNECTION_HELPER_FILE</b> = config.get('connection_helper_file', 'files/connection_helper')</td></tr>
<tr class="separator:a3a0a39404f305537ac4ba257bb3e854f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bf6afcb1efbfc11bc79d6b0ae84277" id="r_a04bf6afcb1efbfc11bc79d6b0ae84277"><td class="memItemLeft" align="right" valign="top"><a id="a04bf6afcb1efbfc11bc79d6b0ae84277" name="a04bf6afcb1efbfc11bc79d6b0ae84277"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_SSH_KEY_PATH</b> = config.get('key_path', '.ssh/aws.pem')</td></tr>
<tr class="separator:a04bf6afcb1efbfc11bc79d6b0ae84277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a46d0185e54409986ddb173bfaf4aee" id="r_a5a46d0185e54409986ddb173bfaf4aee"><td class="memItemLeft" align="right" valign="top"><a id="a5a46d0185e54409986ddb173bfaf4aee" name="a5a46d0185e54409986ddb173bfaf4aee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AWS_REGION</b> = config.get('region_name', 'eu-west-3')</td></tr>
<tr class="separator:a5a46d0185e54409986ddb173bfaf4aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Script for generating SSH files and configuration for EC2 instances. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1548542778c5889e0581aae6cfa48e3f" name="a1548542778c5889e0581aae6cfa48e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1548542778c5889e0581aae6cfa48e3f">&#9670;&#160;</a></span>generate_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">generate_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>instance_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ssh_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> @brief Generate files for use with SSH. This is a helper function to generate the files.
 @param instance_data A list of dictionaries containing information on instances
 @param ssh_key The SSH key for
</pre> 
</div>
</div>
<a id="a8eeadfeefabf8b4349e8d157d8cbcd2e" name="a8eeadfeefabf8b4349e8d157d8cbcd2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eeadfeefabf8b4349e8d157d8cbcd2e">&#9670;&#160;</a></span>get_instance_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_instance_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>region</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Get data on EC2 instances for a specific region.
</pre> 
</div>
</div>
<a id="a58232ea760d103359b0671439338914e" name="a58232ea760d103359b0671439338914e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58232ea760d103359b0671439338914e">&#9670;&#160;</a></span>log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">log </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em> = <code>'logs/main_log.log'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> @brief Creates a timestamp and the username in the log file.
 @param message The message to be recorded should be a string.
 @param file The file to write to.
</pre> 
</div>
</div>
<a id="a9f2aefa74d0e3c034b6521a823cea9c8" name="a9f2aefa74d0e3c034b6521a823cea9c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f2aefa74d0e3c034b6521a823cea9c8">&#9670;&#160;</a></span>log_instance_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">log_instance_status </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>instance_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>region</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Groups instance status with colors.
@param instance_name Name of the running instance
@param status The instance status as defined in the command.
@param region The region to which the instance belongs
</pre> 
</div>
</div>
<a id="a843746d00af85c8c6fa703c8cb477b67" name="a843746d00af85c8c6fa703c8cb477b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a843746d00af85c8c6fa703c8cb477b67">&#9670;&#160;</a></span>open_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">open_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>content</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> @brief Open and read a file. This function is used to read or write file content.
 @param filename name of the file to open
 @param mode file mode (r t t)
 @param content The file content (optional) defaults to None
 @return file content (rỡw) or None if there is an error (unset mode)
</pre> 
</div>
</div>
<a id="aeab9364f19a9f658d826a9722ff3027c" name="aeab9364f19a9f658d826a9722ff3027c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab9364f19a9f658d826a9722ff3027c">&#9670;&#160;</a></span>read_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">read_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>yaml_file_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> @brief Read a YAML file and return its content as a dictionary.
 @param yaml_file_path The path to the YAML file to read.
 @return The YAML file content as a dictionary.
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
